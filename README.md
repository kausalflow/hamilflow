# hamilflow

Dataset of simple physical systems.

## Publish process

- Squash merge all features to `main`
  - Use `feat(section): xxx`, `fix(section): yyy`, `chore(poetry): lock` etc as the squashed commit messages
- Run `cz bump --dry` to determine the new version `X.Y.Z`. Or check out the [documentation](https://commitizen-tools.github.io/commitizen/bump/) for imposing a version
- Run `git checkout -b release/X.Y.Z`
- Run `cz bump`. This will
  - Write `docs/changelog.md` from the commit messages; update the version in `pyproject.toml`
  - Commit `docs/changelog.md` and `pyproject.toml`
  - Create a new tag
- Push to `release/X.Y.Z`
- Merge to `main`, no need to squash, maybe don't delete the branch under release

## Update Tutorials

The tutorials are auto generated by mkdocs based on percent scripts located in the `docs/tutorials` folder. The scripts can be modified and run in vscode without problems. However, if one decided to use jupyter to create/develop tutorials, jupytext is the tool that helps sync between jupyter notebooks and percent scripts.

1. To create jupyter notebooks for the first time, run `poetry run jupytext --to ipynb docs/tutorials/*.py`.
2. To sync between notebooks and percent scripts, run `poetry run jupytext --sync docs/tutorials/*`.
3. To create percent script from jupyter notebooks, run `poetry run jupytext --to py:percent docs/tutorials/your_notebook.ipynb`.
4. Jupyter Lab has an extension that automatically syncs between the different versions. Please refer to jupytext documentation for more info.
